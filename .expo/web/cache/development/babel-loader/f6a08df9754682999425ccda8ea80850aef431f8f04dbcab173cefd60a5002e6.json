{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { apiClient } from \"./api\";\nvar LightsService = function () {\n  function LightsService() {\n    _classCallCheck(this, LightsService);\n  }\n  return _createClass(LightsService, [{\n    key: \"getLightsByHouse\",\n    value: function () {\n      var _getLightsByHouse = _asyncToGenerator(function* (houseId) {\n        var response = yield apiClient.get(\"/api/houses/\" + houseId + \"/lights\");\n        return response.lights;\n      });\n      function getLightsByHouse(_x) {\n        return _getLightsByHouse.apply(this, arguments);\n      }\n      return getLightsByHouse;\n    }()\n  }, {\n    key: \"getLightsByRoom\",\n    value: function () {\n      var _getLightsByRoom = _asyncToGenerator(function* (houseId, roomName) {\n        var response = yield apiClient.get(\"/api/houses/\" + houseId + \"/rooms/\" + encodeURIComponent(roomName) + \"/lights\");\n        return response.lights;\n      });\n      function getLightsByRoom(_x2, _x3) {\n        return _getLightsByRoom.apply(this, arguments);\n      }\n      return getLightsByRoom;\n    }()\n  }, {\n    key: \"getLight\",\n    value: function () {\n      var _getLight = _asyncToGenerator(function* (lightId) {\n        var response = yield apiClient.get(\"/api/lights/\" + lightId);\n        return response.light;\n      });\n      function getLight(_x4) {\n        return _getLight.apply(this, arguments);\n      }\n      return getLight;\n    }()\n  }, {\n    key: \"createLight\",\n    value: function () {\n      var _createLight = _asyncToGenerator(function* (data) {\n        var response = yield apiClient.post('/api/lights', data);\n        return response.light;\n      });\n      function createLight(_x5) {\n        return _createLight.apply(this, arguments);\n      }\n      return createLight;\n    }()\n  }, {\n    key: \"updateLight\",\n    value: function () {\n      var _updateLight = _asyncToGenerator(function* (lightId, data) {\n        var response = yield apiClient.put(\"/api/lights/\" + lightId, data);\n        return response.light;\n      });\n      function updateLight(_x6, _x7) {\n        return _updateLight.apply(this, arguments);\n      }\n      return updateLight;\n    }()\n  }, {\n    key: \"deleteLight\",\n    value: function () {\n      var _deleteLight = _asyncToGenerator(function* (lightId) {\n        yield apiClient.delete(\"/api/lights/\" + lightId);\n      });\n      function deleteLight(_x8) {\n        return _deleteLight.apply(this, arguments);\n      }\n      return deleteLight;\n    }()\n  }, {\n    key: \"toggleLight\",\n    value: function () {\n      var _toggleLight = _asyncToGenerator(function* (lightId, currentState) {\n        return this.updateLight(lightId, {\n          is_on: !currentState\n        });\n      });\n      function toggleLight(_x9, _x0) {\n        return _toggleLight.apply(this, arguments);\n      }\n      return toggleLight;\n    }()\n  }, {\n    key: \"updateBrightness\",\n    value: function () {\n      var _updateBrightness = _asyncToGenerator(function* (lightId, brightness) {\n        return this.updateLight(lightId, {\n          brightness: brightness\n        });\n      });\n      function updateBrightness(_x1, _x10) {\n        return _updateBrightness.apply(this, arguments);\n      }\n      return updateBrightness;\n    }()\n  }, {\n    key: \"updateColor\",\n    value: function () {\n      var _updateColor = _asyncToGenerator(function* (lightId, color) {\n        return this.updateLight(lightId, {\n          color: color\n        });\n      });\n      function updateColor(_x11, _x12) {\n        return _updateColor.apply(this, arguments);\n      }\n      return updateColor;\n    }()\n  }]);\n}();\nexport var lightsService = new LightsService();","map":{"version":3,"names":["apiClient","LightsService","_classCallCheck","_createClass","key","value","_getLightsByHouse","_asyncToGenerator","houseId","response","get","lights","getLightsByHouse","_x","apply","arguments","_getLightsByRoom","roomName","encodeURIComponent","getLightsByRoom","_x2","_x3","_getLight","lightId","light","getLight","_x4","_createLight","data","post","createLight","_x5","_updateLight","put","updateLight","_x6","_x7","_deleteLight","delete","deleteLight","_x8","_toggleLight","currentState","is_on","toggleLight","_x9","_x0","_updateBrightness","brightness","updateBrightness","_x1","_x10","_updateColor","color","updateColor","_x11","_x12","lightsService"],"sources":["C:/Users/Seele/Documents/ESMAD/Computação Móvel e Ubíqua/New Voltzy/NewVoltzy/src/services/lightsService.ts"],"sourcesContent":["import { apiClient } from './api';\r\n\r\nexport interface Light {\r\n  id: number;\r\n  house_id: number;\r\n  room_name: string;\r\n  name: string;\r\n  is_on: boolean;\r\n  brightness: number;\r\n  color: string;\r\n  power_consumption_watts: number;\r\n  created_at?: string;\r\n}\r\n\r\nexport interface CreateLightData {\r\n  house_id: number;\r\n  room_name: string;\r\n  name: string;\r\n  is_on?: boolean;\r\n  brightness?: number;\r\n  color?: string;\r\n  power_consumption_watts?: number;\r\n}\r\n\r\nexport interface UpdateLightData {\r\n  is_on?: boolean;\r\n  brightness?: number;\r\n  color?: string;\r\n  name?: string;\r\n  room_name?: string;\r\n  power_consumption_watts?: number;\r\n}\r\n\r\nclass LightsService {\r\n  // Get all lights for a house\r\n  async getLightsByHouse(houseId: number): Promise<Light[]> {\r\n    const response = await apiClient.get<{ lights: Light[] }>(`/api/houses/${houseId}/lights`);\r\n    return response.lights;\r\n  }\r\n\r\n  // Get lights by room\r\n  async getLightsByRoom(houseId: number, roomName: string): Promise<Light[]> {\r\n    const response = await apiClient.get<{ lights: Light[] }>(\r\n      `/api/houses/${houseId}/rooms/${encodeURIComponent(roomName)}/lights`\r\n    );\r\n    return response.lights;\r\n  }\r\n\r\n  // Get single light details\r\n  async getLight(lightId: number): Promise<Light> {\r\n    const response = await apiClient.get<{ light: Light }>(`/api/lights/${lightId}`);\r\n    return response.light;\r\n  }\r\n\r\n  // Create a new light\r\n  async createLight(data: CreateLightData): Promise<Light> {\r\n    const response = await apiClient.post<{ light: Light }>('/api/lights', data);\r\n    return response.light;\r\n  }\r\n\r\n  // Update light state\r\n  async updateLight(lightId: number, data: UpdateLightData): Promise<Light> {\r\n    const response = await apiClient.put<{ light: Light }>(`/api/lights/${lightId}`, data);\r\n    return response.light;\r\n  }\r\n\r\n  // Delete a light\r\n  async deleteLight(lightId: number): Promise<void> {\r\n    await apiClient.delete(`/api/lights/${lightId}`);\r\n  }\r\n\r\n  // Toggle light on/off\r\n  async toggleLight(lightId: number, currentState: boolean): Promise<Light> {\r\n    return this.updateLight(lightId, { is_on: !currentState });\r\n  }\r\n\r\n  // Update light brightness\r\n  async updateBrightness(lightId: number, brightness: number): Promise<Light> {\r\n    return this.updateLight(lightId, { brightness });\r\n  }\r\n\r\n  // Update light color\r\n  async updateColor(lightId: number, color: string): Promise<Light> {\r\n    return this.updateLight(lightId, { color });\r\n  }\r\n}\r\n\r\nexport const lightsService = new LightsService();\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}