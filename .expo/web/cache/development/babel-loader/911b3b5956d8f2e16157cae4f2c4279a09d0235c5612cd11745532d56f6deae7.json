{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { apiClient } from \"./api\";\nvar EnergyService = function () {\n  function EnergyService() {\n    _classCallCheck(this, EnergyService);\n  }\n  return _createClass(EnergyService, [{\n    key: \"getCurrentStats\",\n    value: function () {\n      var _getCurrentStats = _asyncToGenerator(function* (houseId) {\n        var response = yield apiClient.get(\"/api/houses/\" + houseId + \"/energy/current\");\n        return response;\n      });\n      function getCurrentStats(_x) {\n        return _getCurrentStats.apply(this, arguments);\n      }\n      return getCurrentStats;\n    }()\n  }, {\n    key: \"getHourlyConsumption\",\n    value: function () {\n      var _getHourlyConsumption = _asyncToGenerator(function* (houseId, date) {\n        var dateParam = date ? \"?date=\" + date : '';\n        var response = yield apiClient.get(\"/api/houses/\" + houseId + \"/energy/hourly\" + dateParam);\n        return response;\n      });\n      function getHourlyConsumption(_x2, _x3) {\n        return _getHourlyConsumption.apply(this, arguments);\n      }\n      return getHourlyConsumption;\n    }()\n  }, {\n    key: \"getConsumptionByRoom\",\n    value: function () {\n      var _getConsumptionByRoom = _asyncToGenerator(function* (houseId) {\n        var response = yield apiClient.get(\"/api/houses/\" + houseId + \"/energy/by-room\");\n        return response.rooms;\n      });\n      function getConsumptionByRoom(_x4) {\n        return _getConsumptionByRoom.apply(this, arguments);\n      }\n      return getConsumptionByRoom;\n    }()\n  }, {\n    key: \"updateEnergyStats\",\n    value: function () {\n      var _updateEnergyStats = _asyncToGenerator(function* (houseId, data) {\n        yield apiClient.post(\"/api/houses/\" + houseId + \"/energy/update\", data);\n      });\n      function updateEnergyStats(_x5, _x6) {\n        return _updateEnergyStats.apply(this, arguments);\n      }\n      return updateEnergyStats;\n    }()\n  }, {\n    key: \"addHourlyData\",\n    value: function () {\n      var _addHourlyData = _asyncToGenerator(function* (houseId, date, hour, consumption_kwh) {\n        yield apiClient.post(\"/api/houses/\" + houseId + \"/energy/hourly\", {\n          date: date,\n          hour: hour,\n          consumption_kwh: consumption_kwh\n        });\n      });\n      function addHourlyData(_x7, _x8, _x9, _x0) {\n        return _addHourlyData.apply(this, arguments);\n      }\n      return addHourlyData;\n    }()\n  }]);\n}();\nexport var energyService = new EnergyService();","map":{"version":3,"names":["apiClient","EnergyService","_classCallCheck","_createClass","key","value","_getCurrentStats","_asyncToGenerator","houseId","response","get","getCurrentStats","_x","apply","arguments","_getHourlyConsumption","date","dateParam","getHourlyConsumption","_x2","_x3","_getConsumptionByRoom","rooms","getConsumptionByRoom","_x4","_updateEnergyStats","data","post","updateEnergyStats","_x5","_x6","_addHourlyData","hour","consumption_kwh","addHourlyData","_x7","_x8","_x9","_x0","energyService"],"sources":["C:/Users/Seele/Documents/ESMAD/Computação Móvel e Ubíqua/New Voltzy/NewVoltzy/src/services/energyService.ts"],"sourcesContent":["import { apiClient } from './api';\r\n\r\nexport interface CurrentEnergyStats {\r\n  lights_on_count: number;\r\n  current_consumption_kwh: number;\r\n  today_consumption_kwh: number;\r\n  today_saved_kwh: number;\r\n  last_updated?: string;\r\n}\r\n\r\nexport interface HourlyData {\r\n  hour: number;\r\n  consumption_kwh: number;\r\n}\r\n\r\nexport interface HourlyConsumption {\r\n  date: string;\r\n  hourly_data: HourlyData[];\r\n}\r\n\r\nexport interface RoomConsumption {\r\n  room_name: string;\r\n  light_count: number;\r\n  lights_on: number;\r\n  current_consumption_kw: number;\r\n  total_capacity_kw: number;\r\n}\r\n\r\nclass EnergyService {\r\n  // Get current energy stats for dashboard\r\n  async getCurrentStats(houseId: number): Promise<CurrentEnergyStats> {\r\n    const response = await apiClient.get<CurrentEnergyStats>(\r\n      `/api/houses/${houseId}/energy/current`\r\n    );\r\n    return response;\r\n  }\r\n\r\n  // Get hourly consumption data for chart\r\n  async getHourlyConsumption(houseId: number, date?: string): Promise<HourlyConsumption> {\r\n    const dateParam = date ? `?date=${date}` : '';\r\n    const response = await apiClient.get<HourlyConsumption>(\r\n      `/api/houses/${houseId}/energy/hourly${dateParam}`\r\n    );\r\n    return response;\r\n  }\r\n\r\n  // Get consumption by room\r\n  async getConsumptionByRoom(houseId: number): Promise<RoomConsumption[]> {\r\n    const response = await apiClient.get<{ rooms: RoomConsumption[] }>(\r\n      `/api/houses/${houseId}/energy/by-room`\r\n    );\r\n    return response.rooms;\r\n  }\r\n\r\n  // Update energy stats (for testing/simulation)\r\n  async updateEnergyStats(\r\n    houseId: number,\r\n    data: Partial<CurrentEnergyStats>\r\n  ): Promise<void> {\r\n    await apiClient.post(`/api/houses/${houseId}/energy/update`, data);\r\n  }\r\n\r\n  // Add hourly consumption data (for testing/simulation)\r\n  async addHourlyData(\r\n    houseId: number,\r\n    date: string,\r\n    hour: number,\r\n    consumption_kwh: number\r\n  ): Promise<void> {\r\n    await apiClient.post(`/api/houses/${houseId}/energy/hourly`, {\r\n      date,\r\n      hour,\r\n      consumption_kwh,\r\n    });\r\n  }\r\n}\r\n\r\nexport const energyService = new EnergyService();\r\n"],"mappings":";;;AAAA,SAASA,SAAS;AAAgB,IA4B5BC,aAAa;EAAA,SAAAA,cAAA;IAAAC,eAAA,OAAAD,aAAA;EAAA;EAAA,OAAAE,YAAA,CAAAF,aAAA;IAAAG,GAAA;IAAAC,KAAA;MAAA,IAAAC,gBAAA,GAAAC,iBAAA,CAEjB,WAAsBC,OAAe,EAA+B;QAClE,IAAMC,QAAQ,SAAST,SAAS,CAACU,GAAG,kBACnBF,OAAO,oBACxB,CAAC;QACD,OAAOC,QAAQ;MACjB,CAAC;MAAA,SALKE,eAAeA,CAAAC,EAAA;QAAA,OAAAN,gBAAA,CAAAO,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAfH,eAAe;IAAA;EAAA;IAAAP,GAAA;IAAAC,KAAA;MAAA,IAAAU,qBAAA,GAAAR,iBAAA,CAQrB,WAA2BC,OAAe,EAAEQ,IAAa,EAA8B;QACrF,IAAMC,SAAS,GAAGD,IAAI,cAAYA,IAAI,GAAK,EAAE;QAC7C,IAAMP,QAAQ,SAAST,SAAS,CAACU,GAAG,kBACnBF,OAAO,sBAAiBS,SACzC,CAAC;QACD,OAAOR,QAAQ;MACjB,CAAC;MAAA,SANKS,oBAAoBA,CAAAC,GAAA,EAAAC,GAAA;QAAA,OAAAL,qBAAA,CAAAF,KAAA,OAAAC,SAAA;MAAA;MAAA,OAApBI,oBAAoB;IAAA;EAAA;IAAAd,GAAA;IAAAC,KAAA;MAAA,IAAAgB,qBAAA,GAAAd,iBAAA,CAS1B,WAA2BC,OAAe,EAA8B;QACtE,IAAMC,QAAQ,SAAST,SAAS,CAACU,GAAG,kBACnBF,OAAO,oBACxB,CAAC;QACD,OAAOC,QAAQ,CAACa,KAAK;MACvB,CAAC;MAAA,SALKC,oBAAoBA,CAAAC,GAAA;QAAA,OAAAH,qBAAA,CAAAR,KAAA,OAAAC,SAAA;MAAA;MAAA,OAApBS,oBAAoB;IAAA;EAAA;IAAAnB,GAAA;IAAAC,KAAA;MAAA,IAAAoB,kBAAA,GAAAlB,iBAAA,CAQ1B,WACEC,OAAe,EACfkB,IAAiC,EAClB;QACf,MAAM1B,SAAS,CAAC2B,IAAI,kBAAgBnB,OAAO,qBAAkBkB,IAAI,CAAC;MACpE,CAAC;MAAA,SALKE,iBAAiBA,CAAAC,GAAA,EAAAC,GAAA;QAAA,OAAAL,kBAAA,CAAAZ,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAjBc,iBAAiB;IAAA;EAAA;IAAAxB,GAAA;IAAAC,KAAA;MAAA,IAAA0B,cAAA,GAAAxB,iBAAA,CAQvB,WACEC,OAAe,EACfQ,IAAY,EACZgB,IAAY,EACZC,eAAuB,EACR;QACf,MAAMjC,SAAS,CAAC2B,IAAI,kBAAgBnB,OAAO,qBAAkB;UAC3DQ,IAAI,EAAJA,IAAI;UACJgB,IAAI,EAAJA,IAAI;UACJC,eAAe,EAAfA;QACF,CAAC,CAAC;MACJ,CAAC;MAAA,SAXKC,aAAaA,CAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA;QAAA,OAAAP,cAAA,CAAAlB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAboB,aAAa;IAAA;EAAA;AAAA;AAcrB,OAAO,IAAMK,aAAa,GAAG,IAAItC,aAAa,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}